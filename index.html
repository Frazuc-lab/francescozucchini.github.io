<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Francesco Zucchini - Philosophy PhD Student</title>
    <meta name="description" content="Francesco Zucchini, Philosophy PhD Student at Sapienza University of Rome. Research in ethics, metaphysics, and moral philosophy.">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Academic neutral palette */
            --background: hsl(35, 20%, 97%);
            --foreground: hsl(30, 25%, 15%);
            --card: hsl(40, 25%, 98%);
            --card-foreground: hsl(30, 25%, 15%);
            --primary: hsl(30, 25%, 15%);
            --primary-foreground: hsl(35, 20%, 97%);
            --secondary: hsl(120, 10%, 85%);
            --secondary-foreground: hsl(30, 25%, 15%);
            --muted: hsl(35, 15%, 92%);
            --muted-foreground: hsl(30, 15%, 45%);
            --accent: hsl(120, 15%, 88%);
            --accent-foreground: hsl(30, 25%, 15%);
            --border: hsl(35, 12%, 88%);
            --input: hsl(35, 12%, 88%);
            --shadow-elegant: 0 10px 40px -12px hsl(30, 25%, 15%, 0.18);
            --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --font-serif: 'Playfair Display', serif;
            --font-sans: 'Inter', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            background-color: var(--background);
            color: var(--foreground);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 80rem;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        @media (min-width: 1024px) {
            .container {
                padding: 0 2rem;
            }
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 1024px) {
            .grid {
                grid-template-columns: repeat(12, 1fr);
                gap: 4rem;
            }
        }

        .col-span-5 {
            grid-column: span 1;
        }

        .col-span-7 {
            grid-column: span 1;
        }

        @media (min-width: 1024px) {
            .col-span-5 {
                grid-column: span 5;
            }
            .col-span-7 {
                grid-column: span 7;
            }
        }

        .hero-section {
            padding: 4rem 0 6rem;
        }

        @media (min-width: 1024px) {
            .hero-section {
                padding: 6rem 0 8rem;
            }
        }

        .hero-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 0.5rem;
            box-shadow: var(--shadow-elegant);
            background-image: url('public/academic-hero.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .hero-image.fallback {
            background: linear-gradient(135deg, #8B7355 0%, #A0916B 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-family: var(--font-serif);
            font-size: 1.5rem;
        }

        @media (min-width: 1024px) {
            .hero-image {
                height: 500px;
            }
            .lg-pl-8 {
                padding-left: 2rem;
            }
        }

        .academic-title {
            font-family: var(--font-serif);
            font-size: 2.25rem;
            font-weight: 500;
            letter-spacing: -0.025em;
            color: var(--primary);
            margin-bottom: 1.5rem;
        }

        @media (min-width: 768px) {
            .academic-title {
                font-size: 3rem;
            }
        }

        @media (min-width: 1024px) {
            .academic-title {
                font-size: 3.75rem;
            }
        }

        .academic-subtitle {
            font-size: 1.125rem;
            color: var(--muted-foreground);
            font-weight: 300;
            margin-bottom: 1.5rem;
        }

        @media (min-width: 768px) {
            .academic-subtitle {
                font-size: 1.25rem;
            }
        }

        .email-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--muted-foreground);
            margin-bottom: 2rem;
        }

        .email-text {
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
        }

        .icon {
            width: 1rem;
            height: 1rem;
        }

        .button-container {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition-smooth);
            border: 1px solid var(--border);
        }

        .btn-outline {
            background: transparent;
            color: var(--foreground);
            border: 1px solid var(--border);
        }

        .btn-outline:hover {
            background: var(--accent);
        }

        .btn-secondary {
            background: var(--secondary);
            color: var(--secondary-foreground);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            opacity: 0.9;
        }

        .section {
            padding: 4rem 0;
        }

        .section-bordered {
            border-top: 1px solid var(--border);
        }

        .section-title {
            font-family: var(--font-serif);
            font-size: 1.5rem;
            font-weight: 500;
            letter-spacing: -0.025em;
            color: var(--primary);
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        @media (min-width: 768px) {
            .section-title {
                font-size: 1.875rem;
            }
        }

        .section-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .academic-body {
            line-height: 1.75;
        }

        .muted-text {
            color: var(--muted-foreground);
        }

        .research-interests {
            margin-top: 1.5rem;
        }

        .research-interests h3 {
            font-size: 1.125rem;
            font-weight: 500;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .interest-item {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .interest-bullet {
            color: var(--muted-foreground);
            margin-top: 0.5rem;
        }

        .quote-card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }

        .quote-text {
            font-style: italic;
            color: var(--muted-foreground);
            line-height: 1.75;
        }

        .footer {
            padding: 3rem 0;
            border-top: 1px solid var(--border);
            text-align: center;
        }

        .footer-text {
            font-size: 0.875rem;
            color: var(--muted-foreground);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            padding: 2rem;
            max-width: 40rem;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--border);
            border-radius: 0.375rem;
            background: var(--background);
            color: var(--foreground);
        }

        .form-textarea {
            resize: vertical;
        }

        .modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
            margin-top: 1.5rem;
        }

        .btn-primary {
            background: var(--primary);
            color: var(--primary-foreground);
        }

        .btn-primary:hover {
            opacity: 0.9;
        }

        /* Admin Panel Styles */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 400px;
            height: 100vh;
            background: var(--background);
            border-left: 1px solid var(--border);
            box-shadow: -10px 0 30px rgba(0,0,0,0.1);
            z-index: 1000;
            overflow-y: auto;
            padding: 2rem;
        }

        .admin-panel.active {
            display: block;
        }

        .admin-header {
            margin-bottom: 2rem;
        }

        .admin-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary);
            color: var(--primary-foreground);
            border: none;
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1001;
            opacity: 0.1;
        }

        .admin-toggle:hover {
            opacity: 1;
        }

        .image-upload-area {
            border: 2px dashed var(--border);
            border-radius: 0.5rem;
            padding: 2rem;
            text-align: center;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: var(--transition-smooth);
        }

        .image-upload-area:hover {
            border-color: var(--primary);
            background: var(--accent);
        }

        .image-upload-area.drag-over {
            border-color: var(--primary);
            background: var(--accent);
        }
    </style>
</head>
<body>
    <!-- Admin Toggle Button -->
    <button class="admin-toggle" onclick="toggleAdminPanel()" title="Admin Panel">
        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
        </svg>
    </button>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel">
        <div class="admin-header">
            <h3 style="margin: 0; color: var(--primary);">Admin Panel</h3>
        </div>
        
        <div class="form-group">
            <label class="form-label">Hero Image</label>
            <div class="image-upload-area" onclick="document.getElementById('heroImageInput').click()">
                <p>Click or drag image here</p>
                <input type="file" id="heroImageInput" accept="image/*" style="display: none;">
            </div>
        </div>
        
        <div class="form-group">
            <label class="form-label">Name</label>
            <input type="text" id="adminName" class="form-input" />
        </div>
        
        <div class="form-group">
            <label class="form-label">Title</label>
            <input type="text" id="adminTitle" class="form-input" />
        </div>
        
        <div class="form-group">
            <label class="form-label">Email</label>
            <input type="email" id="adminEmail" class="form-input" />
        </div>
        
        <div class="form-group">
            <label class="form-label">Biography</label>
            <textarea id="adminBio" class="form-textarea" rows="4"></textarea>
        </div>
        
        <div class="form-group">
            <label class="form-label">Additional About Text</label>
            <textarea id="adminAbout" class="form-textarea" rows="3"></textarea>
        </div>
        
        <div class="form-group">
            <label class="form-label">Research Interests (one per line)</label>
            <textarea id="adminResearch" class="form-textarea" rows="5"></textarea>
        </div>
        
        <div class="form-group">
            <label class="form-label">Substack URL</label>
            <input type="url" id="adminSubstack" class="form-input" placeholder="https://yoursubstack.substack.com" />
        </div>
        
        <div class="form-group">
            <label class="form-label">CV Content</label>
            <textarea id="adminCV" class="form-textarea" rows="10" placeholder="Enter your CV content here..."></textarea>
        </div>
        
        <button class="btn btn-primary" onclick="saveAdminProfile()" style="width: 100%; margin-top: 1rem;">
            Save Changes
        </button>
    </div>
    <main>
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="container">
                <div class="grid">
                    <!-- Left side - Visual -->
                    <div class="col-span-5">
                        <div class="hero-image" id="heroImage"></div>
                    </div>

                    <!-- Right side - Name and Title -->
                    <div class="col-span-7 lg-pl-8">
                        <div>
                            <h1 class="academic-title" id="profileName">Francesco Zucchini</h1>
                            <p class="academic-subtitle" id="profileTitle">Philosophy PhD Student at Sapienza University of Rome</p>
                            
                            <div class="email-container">
                                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                                <span class="email-text" id="profileEmail">francesco.zucchini@uniroma1.it</span>
                            </div>

                            <div class="button-container">
                                <button class="btn btn-outline" onclick="openCVModal()">
                                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                    </svg>
                                    CV
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="section">
            <div class="container">
                <div class="grid">
                    <div class="col-span-5">
                        <h2 class="section-title">About</h2>
                    </div>
                    <div class="col-span-7">
                        <div class="section-content">
                            <p class="academic-body" id="profileBio">
                                I am a Philosophy PhD student at Sapienza University of Rome, exploring fundamental questions about ethics, language, and the nature of philosophical inquiry. My research focuses on Cora Diamond's contribution to contemporary debates in moral philosophy.
                            </p>
                            <p class="academic-body muted-text" id="profileAbout">
                                I enjoy engaging with approaches that bridge philosophical inquiry with other fields of study. I am particularly interested in the relationship between philosophy and the arts.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Research Section -->
        <section class="section section-bordered">
            <div class="container">
                <div class="grid">
                    <div class="col-span-5">
                        <h2 class="section-title">Research</h2>
                    </div>
                    <div class="col-span-7">
                        <div class="section-content">
                            <div class="research-interests">
                                <h3>Areas of Interest:</h3>
                                <div id="researchInterests">
                                    <div class="interest-item">
                                        <span class="interest-bullet">•</span>
                                        <span class="academic-body">Ethics and Moral Philosophy</span>
                                    </div>
                                    <div class="interest-item">
                                        <span class="interest-bullet">•</span>
                                        <span class="academic-body">Metaphysics</span>
                                    </div>
                                    <div class="interest-item">
                                        <span class="interest-bullet">•</span>
                                        <span class="academic-body">Philosophy of Mind</span>
                                    </div>
                                    <div class="interest-item">
                                        <span class="interest-bullet">•</span>
                                        <span class="academic-body">Ancient Philosophy</span>
                                    </div>
                                    <div class="interest-item">
                                        <span class="interest-bullet">•</span>
                                        <span class="academic-body">Continental Philosophy</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="quote-card">
                                <p class="quote-text">
                                    "You could attach prices to thoughts. Some cost a lot, some a little. And how does one pay for thought? The Answer, I think, is: with courage."
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Public Writings Section -->
        <section class="section section-bordered">
            <div class="container">
                <div class="grid">
                    <div class="col-span-5">
                        <h2 class="section-title">Public Writings</h2>
                    </div>
                    <div class="col-span-7">
                        <div class="section-content">
                            <p class="academic-body">
                                I sometimes write about videogames on Substack, exploring this relatively new medium with philosophical tools. 
                            </p>
                            <div class="button-container">
                                <a href="#" id="substackLink" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">
                                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.828 2.828 0 114 4L7 21l-4 1 1-4L15.232 5.232z"></path>
                                    </svg>
                                    Visit The Substack
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p class="footer-text">
                    © 2024 <span id="footerName">Francesco Zucchini</span>. Built with care for academic excellence.
                </p>
            </div>
        </footer>
    </main>

    <!-- CV Modal -->
    <div id="cvModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
                Curriculum Vitae
            </div>
            
            <div id="cvContent" class="academic-body" style="white-space: pre-line; line-height: 1.75;">
                Please add your CV content through the admin panel (gear icon at the top right).
            </div>
            
            <div class="modal-buttons">
                <button class="btn btn-outline" onclick="closeCVModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
                Edit Profile
            </div>
            
            <div class="form-group">
                <label class="form-label">Name</label>
                <input type="text" id="editName" class="form-input" />
            </div>
            
            <div class="form-group">
                <label class="form-label">Title</label>
                <input type="text" id="editTitle" class="form-input" />
            </div>
            
            <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" id="editEmail" class="form-input" />
            </div>
            
            <div class="form-group">
                <label class="form-label">Biography</label>
                <textarea id="editBio" class="form-textarea" rows="4"></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">Additional About Text</label>
                <textarea id="editAbout" class="form-textarea" rows="3"></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">Research Interests (one per line)</label>
                <textarea id="editResearch" class="form-textarea" rows="5"></textarea>
            </div>
            
            <div class="modal-buttons">
                <button class="btn btn-outline" onclick="closeEditModal()">Cancel</button>
                <button class="btn btn-primary" onclick="saveProfile()">Save Changes</button>
            </div>
        </div>
    </div>

    <script>
        // Profile data storage
        let profileData = {
            name: "Francesco Zucchini",
            title: "Philosophy PhD Student at Sapienza University of Rome",
            email: "francesco.zucchini@uniroma1.it",
            bio: "I am a Philosophy PhD student at Sapienza University of Rome, exploring fundamental questions about ethics, metaphysics, and the nature of philosophical inquiry. My research focuses on contemporary debates in moral philosophy and their historical foundations.",
            aboutText: "Beyond philosophy, I enjoy engaging with interdisciplinary approaches that bridge philosophical inquiry with other fields of study. I am particularly interested in how philosophical methods can illuminate contemporary challenges in ethics and social theory.",
            researchInterests: [
                "Ethics and Moral Philosophy",
                "Philosophy of Language", 
                "Philosophy of Mind",
                "Early Analytic Philosophy",
            ],
            substackUrl: "",
            cvContent: ""
        };

        // Load data from localStorage if available
        const savedData = localStorage.getItem('francescoProfile');
        if (savedData) {
            profileData = JSON.parse(savedData);
            updateDisplay();
        }

        function openEditModal() {
            document.getElementById('editName').value = profileData.name;
            document.getElementById('editTitle').value = profileData.title;
            document.getElementById('editEmail').value = profileData.email;
            document.getElementById('editBio').value = profileData.bio;
            document.getElementById('editAbout').value = profileData.aboutText;
            document.getElementById('editResearch').value = profileData.researchInterests.join('\n');
            
            document.getElementById('editModal').classList.add('active');
        }

        function closeEditModal() {
            document.getElementById('editModal').classList.remove('active');
        }

        function saveProfile() {
            profileData = {
                name: document.getElementById('editName').value,
                title: document.getElementById('editTitle').value,
                email: document.getElementById('editEmail').value,
                bio: document.getElementById('editBio').value,
                aboutText: document.getElementById('editAbout').value,
                researchInterests: document.getElementById('editResearch').value
                    .split('\n')
                    .filter(interest => interest.trim() !== '')
            };

            // Save to localStorage
            localStorage.setItem('francescoProfile', JSON.stringify(profileData));
            
            updateDisplay();
            closeEditModal();
        }

        function updateDisplay() {
            document.getElementById('profileName').textContent = profileData.name;
            document.getElementById('profileTitle').textContent = profileData.title;
            document.getElementById('profileEmail').textContent = 
                profileData.email.replace('@', '[at]').replace('.', '[dot]');
            document.getElementById('profileBio').textContent = profileData.bio;
            document.getElementById('profileAbout').textContent = profileData.aboutText;
            document.getElementById('footerName').textContent = profileData.name;
            
            // Update research interests
            const researchContainer = document.getElementById('researchInterests');
            researchContainer.innerHTML = profileData.researchInterests.map(interest => 
                `<div class="interest-item">
                    <span class="interest-bullet">•</span>
                    <span class="academic-body">${interest}</span>
                </div>`
            ).join('');
            
            // Update Substack link
            const substackLink = document.getElementById('substackLink');
            if (profileData.substackUrl && profileData.substackUrl.trim() !== '') {
                substackLink.href = profileData.substackUrl;
                substackLink.style.display = 'inline-flex';
            } else {
                substackLink.href = '#';
                substackLink.style.display = 'none';
            }
            
            // Update CV content
            const cvContent = document.getElementById('cvContent');
            if (profileData.cvContent && profileData.cvContent.trim() !== '') {
                cvContent.textContent = profileData.cvContent;
            } else {
                cvContent.textContent = 'Please add your CV content through the admin panel (gear icon at the top right).';
            }
        }

        // Close modal when clicking outside
        document.getElementById('editModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeEditModal();
            }
        });

        // Admin Panel Functions
        function toggleAdminPanel() {
            const panel = document.getElementById('adminPanel');
            panel.classList.toggle('active');
            if (panel.classList.contains('active')) {
                loadAdminData();
            }
        }

        // CV Modal Functions
        function openCVModal() {
            document.getElementById('cvModal').classList.add('active');
        }

        function closeCVModal() {
            document.getElementById('cvModal').classList.remove('active');
        }

        // Close CV modal when clicking outside
        document.getElementById('cvModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCVModal();
            }
        });

        function loadAdminData() {
            document.getElementById('adminName').value = profileData.name;
            document.getElementById('adminTitle').value = profileData.title;
            document.getElementById('adminEmail').value = profileData.email;
            document.getElementById('adminBio').value = profileData.bio;
            document.getElementById('adminAbout').value = profileData.aboutText;
            document.getElementById('adminResearch').value = profileData.researchInterests.join('\n');
            document.getElementById('adminSubstack').value = profileData.substackUrl || '';
            document.getElementById('adminCV').value = profileData.cvContent || '';
        }

        function saveAdminProfile() {
            profileData = {
                name: document.getElementById('adminName').value,
                title: document.getElementById('adminTitle').value,
                email: document.getElementById('adminEmail').value,
                bio: document.getElementById('adminBio').value,
                aboutText: document.getElementById('adminAbout').value,
                researchInterests: document.getElementById('adminResearch').value
                    .split('\n')
                    .filter(interest => interest.trim() !== ''),
                substackUrl: document.getElementById('adminSubstack').value,
                cvContent: document.getElementById('adminCV').value
            };

            localStorage.setItem('francescoProfile', JSON.stringify(profileData));
            updateDisplay();
            document.getElementById('adminPanel').classList.remove('active');
        }

        // Image upload handling
        document.getElementById('heroImageInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageData = e.target.result;
                    localStorage.setItem('heroImage', imageData);
                    updateHeroImage(imageData);
                };
                reader.readAsDataURL(file);
            }
        });

        function updateHeroImage(imageData) {
            const heroImage = document.getElementById('heroImage');
            heroImage.style.backgroundImage = `url(${imageData})`;
            heroImage.classList.remove('fallback');
        }

        // Load saved hero image on page load
        const savedHeroImage = localStorage.getItem('heroImage');
        if (savedHeroImage) {
            updateHeroImage(savedHeroImage);
        }

        // Drag and drop for image upload
        const uploadArea = document.querySelector('.image-upload-area');
        
        uploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            uploadArea.classList.add('drag-over');
        });

        uploadArea.addEventListener('dragleave', function(e) {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');
        });

        uploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');
            
            const files = e.dataTransfer.files;
            if (files.length > 0 && files[0].type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const imageData = e.target.result;
                    localStorage.setItem('heroImage', imageData);
                    updateHeroImage(imageData);
                };
                reader.readAsDataURL(files[0]);
            }
        });
    </script>
</body>
</html>
